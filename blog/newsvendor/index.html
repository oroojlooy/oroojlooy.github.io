
<!DOCTYPE html>
<html lang="en">

<head>
<style>
img {
    display: block;
    margin: 0 auto;
}
</style>

<meta charset="utf-8">


<meta name="keywords" content="mathjax, latex">


<!-- Begin Jekyll SEO tag v2.2.0 -->
<title>Latex | Afshin</title>
<meta property="og:title" content="latex" />
<meta name="author" content="Afshin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="tested on pc/mobile in chrome" />
<meta property="og:description" content="tested on pc/mobile in chrome" />
<link rel="canonical" href="https://oroojlooy.github.io/blog/latex" />
<meta property="og:url" content="https://oroojlooy.github.io/blog/latex" />
<meta property="og:site_name" content="Afshin" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-11T00:00:00-04:00" />

<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- <meta name="baidu-site-verification" content="Ka0XbnDHIz"/>
<meta name="google-site-verification" content="dK7A_nLs_W9jMkp4z0Igv6lbsPMEt750es5LsGDI4b8"/>
<meta name="msvalidate.01" content="69400DDE30F9991C776E715491BAAB85" /> -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous">
 -->
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "How to enable mathjax/latex in github pages",
"author": {"@type": "Person",
"name": {"name":"Afshin","picture":"me.jpeg","email":"oroojlooy@gmail.com","description":"To Be a Good Man","twitter":null,"facebook":null,"github":"zishuaiz","linkedin":null,"instagram":null,"tumblr":null}},
"datePublished": "2017-04-11T00:00:00-04:00",
"description": "tested on pc/mobile in chrome",
"publisher": {"@type": "Organization",
"name": {"name":"Afshin","picture":"me.jpeg","email":"oroojlooy@gmail.com","description":"To Be a Good Man","twitter":null,"facebook":null,"github":"zishuaiz","linkedin":null,"instagram":null,"tumblr":null},
"logo": {"@type": "ImageObject",
"url": "https://oroojlooy.github.io/logo.png"}},
"mainEntityOfPage": {"@type": "WebPage",
"@id": "https://oroojlooy.github.io/blog/latex"},
"url": "https://oroojlooy.github.io/blog/latex"}</script>
<!--Load Mathjax-->


<script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        config: ["MMLorHTML.js"],
        extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
        jax: ["input/TeX"],
        tex2jax: {
            inlineMath: [['$', '$'], ["\\(", "\\)"]],
            displayMath: [['$$', '$$'], ["\\[", "\\]"]],
            processEscapes: false
        },
        TeX: {
            TagSide: "right",
            TagIndent: ".8em",
            MultLineWidth: "85%",
            equationNumbers: {
                autoNumber: "AMS",
            },
            unicode: {
                fonts: "STIXGeneral,'Arial Unicode MS'"
            }
        },
        showProcessingMessages: false
    });
</script>


<link rel="stylesheet" type="text/css" href="/css/main.css"> 
</head>

<body>
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/publications">Publications</a></li>
            <li><a href="/cv">CV</a></li>
            <li><a href="/blog">Blog</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="blurb">
            <font size="+2"> <p><em>  <b> Newsvendor Problem  </b> </em> </p> </font>
            <p> The newsvendor problem optimizes the inventory of a perishable good. Perishable goods are those that have a limited selling season; they include fresh produce, newspapers, airline tickets, and fashion goods. The newsvendor problem assumes that the company purchases the goods at the beginning of  a time period and sells them during the period. 
            At the end of the period, unsold goods must be discarded, incurring a <i>holding cost</i>.
            In addition, if it runs out of the goods in the middle of the period, it incurs a <i>shortage cost</i>, losing potential profit.
            Therefore, the company wants to choose the order quantity that minimizes the expected sum of the two costs described above. The problem dates back to 1888. See Porteus (2008) for a history. <p>
            <!-- alt="The agents of beer game"  -->
            
            <p> The optimal order quantity for the newsvendor problem can be obtained by solving the following optimization problem:                    
               <script type="math/tex; mode=display"> \min \limits_{y} C(y) = E_d \left[ c_p (d - y)^{+} + c_h (y - d)^{+} \right] </script>
            where \(d\) is the random demand, \(y\) is the order quantity, \(c_p\) and \(c_h\) are the per-unit shortage and holding costs (respectively). In the presence of the demand distribution, the optimal order quantity can be obtained by solving the optimization problem (Snyder and Shen 2018). In the classical version of the problem, the demand distribution (e.g., normal) and its parameters are either known or estimated using available data. </p> 

            <p>There are numerous extensions of this problem (see ???). One of the extension is <i> multi-dimensional features newsvendor problem</i>, in which the demand from each of the <i>n</i> items comes with some additional information, e.g. weather conditions, day of the week, store location, etc.</p> 
            
            <p>There are four main approaches for solving the multi-feature newsvendor problem with data features. 
            First, the classical approach obtains an estimate of the demand's probability distribution and then uses the classical optimization model to obtain the order quantities. This approach is called separated estimation and optimization (SEO).
            However, obtaining the probability distribution with any approximation procedure involves some level of errors, especially when there are insufficient historical data. 
            In addition, sometimes there is not enough data to approximate a probability distribution. 
            So, in each of these cases, the classical approach cannot be used.</p> 
            
            <p>Second, Bertsimas & Thiele (2005) proposes a data driven algorithm that directly optimizes the order quantities through finding Estimated Quantile (EQ).
            However, this model fails when there is volatility among the training data. 
            In addition, similar to the classical newsvendor algorithm, it only considers categorical features and cannot deal with continuous features, which are common in supply chain demand data.</p> 

            <p>
                Third, an approach for solving multi-feature newsvendor problem can be derived from the machine learning-based algorithms proposed by Bertsimas & Kallus (2014) to solve general optimization problem:
                <script type="math/tex; mode=display"> z^\ast(x)  = \argmin F_{z} \mathbb{E} \left[ c(z,y) | x \right], \label{eq:bertsimas_obj} </script>
                in which \(\left\{(x^1, y^1), \dots, (x^N, y^N)\right\}\) are the historical data such that \(x^i\) is a \(d\)-dimensional feature vector and \(y^i\) is the target value, e.g., demand, and \(z\) is the decision variable. They propose using several machine learning algorithms to optimize the mentioned problem. We chosen the best of them, namely: k-nearest neighbor (KNN), kernel method, and random forest (RF). Also, a sample average approximation (SAA) algorithm is used for the baseline, and the substitute weights for the SAA method of each algorithm is derived by those algorithms. 
            </p>

            <p>Fourth, machine learning and Deep Neural Network (DNN) models have been proposed to obtain a forecast of the demand, e.g. Lu & Chang (2014).
            Most of these approaches set order quantities equal to the demand forecast. However, this ignores a core insight from the newsvendor model, namely, that order quantities should be larger (or, in rarer cases, smaller) than the demand forecast, with the actual quantity driven by the relative magnitudes of the shortage and holding costs. 
            To address this drawback, Ban & Rudin (2017) proposes a Linear Machine Learning (LML) model, which considers the cost coefficients to obtain order quantities.
            However, this model is slow for a large number of instances, has poor quality when there are small number of observations for each combination of the features, and its learning is limited to the current training data. 
            Therefore, there is a need for an algorithm that works with both small and large amounts of featured-historical data and solve them in a reasonable amount of time.</p> 

            <p> <em>  <b> Our Approach  </b> </em> <p>
            <p> We develop a new approach based on Deep Neural Network (DNN) to solve the multi-product newsvendor problem with data features. 
            DNN is a branch of machine learning which aimed to build a model between inputs and outputs. 
            In order to minimize the closeness of the obtained values and the real outputs, a loss function, e.g. hinge, euclidean, etc. measures the closeness of them.
            The goal of DNN is providing a small loss value.
            To adapt DNN for the newsvendor problem, we propose two loss functions, considering the impact of the shortage and holding costs. 
            These loss functions <i>allow DNN to obtain the minimizer of the newsvendor cost function directly, rather than first estimating the demand distribution and then choosing an order quantity.</i>
            Thus, feeding the historical data into the corresponding DNN and running it gives the order quantities directly.
            Two proposed loss functions are based on the newsvendor cost function and we call them DNN-\(\ell_1\) and DNN-\(\ell_2\), according to their structures. </p>


            <p> <em>  <b> Numerical Experiments </b> </em> </p>
            In order to check the efficiency and validity of our algorithm, in addition to implementing our DNN's (DNN-\(\ell_1\) and DNN-\(\ell_2\)), EQ, LML, SEO, KNN, RF, and KR algorithms are implemented, order quantities was obtained with each algorithm and the corresponding newsvendor cost functions were compared. 
            All eight algorithms are tested on a real-world and multiple simulated datasets.
            The real-world dataset is a retailer's basket dataset, including 13K records for the demand of 24 different departments in each day and month, of which 75% is considered for training and 25% for testing. 
            The results of each algorithm for 100 values of \(c_p\) and \(c_h\) are shown in the following figure, in which the vertical axis shows normalized costs, i.e., the cost value of each algorithm divided by the corresponding DNN-\(\ell_1\) cost. 
            The horizontal axis shows the ratio \(c_p/c_h\) for each instance.
            <!-- 2903*1281 -->
            <img src="nw_original_loss_function_based_result_B0_small.jpg" alt="before training" width="1161" height="512" align="middle"/> 
            

            <p> Moreover, in order to determine the conditions under which DNN outperforms the other algorithms on larger/smaller instances, several datasets were generated randomly and the results of the four algorithms were compared.            
            We found that in the presence of sufficient historical data, our approach can solve problems with known probability distributions as accurately as SEO and EQ solve them. 
            However, the real value of our approach is that it is effective for problems with small quantities of historical data, problems with unknown/unfitted probability distributions, or problems with volatile historical data---all cases for which the current approaches fail. </p>

            <p> <em> <b> Conclusion </b> </em> <p>
                These results are really incredible!!!. We can learn to play close to optimal solution, with just---and only just---some historical data. Without any knowledge how other agents play, what is their ordering policy, etc. 
                Nowadays that any company has huge datasets, we can easily use those data and optimize their supply chain network. This approach can be easily used in different supply chain with much more complex networks, and more agents. 
                I will post more results latter. BTW, you also can read the corresponding paper <a href="https://arxiv.org/abs/1708.05924">here </a>.!


            <!-- <iframe width="420" height="315" src="https://www.youtube.com/embed/XGSy3_Czz8k"> </iframe> -->                
        </div><!-- /.blurb -->
    </div><!-- /.container -->


    <p>Porteus, Evan L. "The newsvendor problem." Building Intuition. Springer, Boston, MA, 2008. 115-134.</p>
    <p>Snyder, Lawrence V., and Zuo-Jun Max Shen. Fundamentals of supply chain theory. John Wiley & Sons, 2011.</p>
    <p>Bertsimas, Dimitris, and Aurélie Thiele. "A data-driven approach to newsvendor problems." Working Paper, Massachusetts Institute of Technology (2005).</p>
    <p>Ban, Gah‐Yi, and Cynthia Rudin. "The big data newsvendor: Practical insights from machine learning." (2017).</p>
    <p>Bertsimas, Dimitris, and Nathan Kallus. "From predictive to prescriptive analytics." arXiv preprint arXiv:1402.5481 (2014).</p>
    <p>Lu, Chi-Jie, and Chi-Chang Chang. "A hybrid sales forecasting scheme by combining independent component analysis with K-means clustering and support vector regression." The Scientific World Journal 2014 (2014).</p>


    <footer>
        <ul>
            <li><a href="mailto:oroojlooy@gmail.com">email</a></li>
            <!-- <li><a href="https://github.com/oroojlooy">github.com/oroojlooy</a></li> -->
            <li><a href="https://scholar.google.com/citations?user=7nEdMAMAAAAJ&hl=en">Google Scholar</a></li>
            <li><a href="https://www.linkedin.com/in/afshin-oroojlooy-81663b38/">LinkedIn</a></li>
        </ul>
    </footer>        
</body>
</html>

<!--     <p><strong>The Lorenz Equations</strong></p>

    <script type="math/tex; mode=display">% <![CDATA[
    \begin{aligned}
    \dot{x} & = \sigma(y-x) \\
    \dot{y} & = \rho x - y - xz \\
    \dot{z} & = -\beta z + xy
    \end{aligned} %]]></script>

    <p><strong>The Cauchy-Schwarz Inequality</strong></p>

    <script type="math/tex; mode=display">\left( \sum_{k=1}^n a_k b_k \right)^{\!\!2} \leq
     \left( \sum_{k=1}^n a_k^2 \right) \left( \sum_{k=1}^n b_k^2 \right)</script>

    <p><strong>A Cross Product Formula</strong></p>

    <script type="math/tex; mode=display">% <![CDATA[
    \mathbf{V}_1 \times \mathbf{V}_2 =
       \begin{vmatrix}
        \mathbf{i} & \mathbf{j} & \mathbf{k} \\
        \frac{\partial X}{\partial u} & \frac{\partial Y}{\partial u} & 0 \\
        \frac{\partial X}{\partial v} & \frac{\partial Y}{\partial v} & 0 \\
       \end{vmatrix} %]]></script>

    <p><strong>The probability of getting (k) heads when flipping (n) coins is:</strong></p>

    <script type="math/tex; mode=display">P(E) = {n \choose k} p^k (1-p)^{ n-k}</script>

    <p><strong>An Identity of Ramanujan</strong></p>

    <script type="math/tex; mode=display">\frac{1}{(\sqrt{\phi \sqrt{5}}-\phi) e^{\frac25 \pi}} =
         1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {1+\frac{e^{-6\pi}}
          {1+\frac{e^{-8\pi}} {1+\ldots} } } }</script>

    <p><strong>A Rogers-Ramanujan Identity</strong></p>

    <script type="math/tex; mode=display">% <![CDATA[
    1 +  \frac{q^2}{(1-q)}+\frac{q^6}{(1-q)(1-q^2)}+\cdots =
        \prod_{j=0}^{\infty}\frac{1}{(1-q^{5j+2})(1-q^{5j+3})},
         \quad\quad \text{for $|q|<1$}. %]]></script>
         -->
