<!DOCTYPE html>
<html>
	<head>
<style>
img {
    display: block;
    margin: 0 auto;
}
</style>


<meta name="keywords" content="mathjax, latex">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    inlineMath: [['$','$']]
  }
});
</script>



<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
            jax: ["input/TeX"],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            },
            TeX: {
                TagSide: "right",
                TagIndent: ".8em",
                MultLineWidth: "85%",
                equationNumbers: {
                   autoNumber: "AMS",
                },
                unicode: {
                   fonts: "STIXGeneral,'Arial Unicode MS'"
                }
            },
            showProcessingMessages: false
        });
</script>


<script type="text/javascript"
	src="http://www.maths.nottingham.ac.uk/personal/drw/LaTeXMathML.js">
</script>

<script type="text/javascript" src="http://latex.codecogs.com/latexit.js"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



		<title>Blog</title>
		<!-- link to main stylesheet -->
		<link rel="stylesheet" type="text/css" href="/css/main.css">		
	</head>
	<body>

		<nav>
    		<ul>
        		<li><a href="/">Home</a></li>
	        	<li><a href="/publications">Publications</a></li>
        		<li><a href="/cv">CV</a></li>
        		<li><a href="/blog">Blog</a></li>
    		</ul>
		</nav>
		<div class="container">
    		<div class="blurb">
				<font size="+2"> <p><em>  <b> Beer Game  </b> </em> </p> </font>
				<p> 	The newsvendor problem optimizes the inventory of a perishable good. Perishable goods are those that have a limited selling season; they include fresh produce, newspapers, airline tickets, and fashion goods. The newsvendor problem assumes that the company purchases the goods at the beginning of  a time period and sells them during the period. 
				At the end of the period, unsold goods must be discarded, incurring a <i>holding cost</i>.
				In addition, if it runs out of the goods in the middle of the period, it incurs a <i>shortage cost</i>, losing potential profit.
				Therefore, the company wants to choose the order quantity that minimizes the expected sum of the two costs described above. The problem dates back to 1888. See Porteus (2008) for a history. <p>
				<!-- alt="The agents of beer game"  -->
				
				<p> The optimal order quantity for the newsvendor problem can be obtained by solving the following optimization problem:					
					<img src="http://mathurl.com/y7z7skg3.png">
				where $d$ is the random demand, $y$ is the order quantity, $c_p$ and $c_h$ are the per-unit shortage and holding costs (respectively). In the presence of the demand distribution, the optimal order quantity can be obtained by solving the optimization problem (Snyder and Shen 2018). In the classical version of the problem, the demand distribution (e.g., normal) and its parameters are either known or estimated using available data. </p> 

				<p>There are numerous extensions of this problem (see ???). One of the extension is <i> multi-dimensional features newsvendor problem</i>, in which the demand from each of the $n$ items comes with some additional information, e.g. weather conditions, day of the week, store location, etc.</p> 
				
				<script type="math/tex; mode=display">% <![CDATA[
				\begin{aligned}
				\dot{x} & = \sigma(y-x) \\
				\dot{y} & = \rho x - y - xz \\
				\dot{z} & = -\beta z + xy
				\end{aligned} %]]></script>

				<p>There are ??? main approaches for solving the multi-feature newsvendor problem with data features. 
				First, the classical approach obtains an estimate of the demand's probability distribution and then uses the classical optimization model to obtain the order quantities. This approach is called separated estimation and optimization (SEO).
				However, obtaining the probability distribution with any approximation procedure involves some level of errors, especially when there are insufficient historical data. 
				In addition, sometimes there is not enough data to approximate a probability distribution. 
				So, in each of these cases, the classical approach cannot be used.</p> 
				
				<p>Second, \cite{Thiele} proposes a data driven algorithm that directly optimizes the order quantities through finding Estimated Quantile (EQ).
				However, this model fails when there is volatility among the training data. 
				In addition, similar to the classical newsvendor algorithm, it only considers categorical features and cannot deal with continuous features, which are common in supply chain demand data.</p> 

				<p>Finally, machine learning and Deep Neural Network (DNN) models have been proposed to obtain a forecast of the demand, e.g. \cite{lu2014hybrid}.
				Most of these approaches set order quantities equal to the demand forecast. However, this ignores a core insight from the newsvendor model, namely, that order quantities should be larger (or, in rarer cases, smaller) than the demand forecast, with the actual quantity driven by the relative magnitudes of the shortage and holding costs. 
				To address this drawback, \cite{vahn_News} proposes a Linear Machine Learning (LML) model, which considers the cost coefficients to obtain order quantities.
				However, this model is too slow for a large number of instances, has poor quality when there are small number of observations for each combination of the features, and its learning is limited to the current training data. 
				Therefore, there is a need for an algorithm that works with both small and large amounts of featured-historical data and solve them in a reasonable amount of time.</p> 

				<p> <em>  <b> Our Approach  </b> </em> <p>
				<p> We develop a new approach based on Deep Neural Network (DNN) to solve the multi-product newsvendor problem with data features. 
				DNN is a branch of machine learning which aimed to build a model between inputs and outputs. 
				In order to minimize the closeness of the obtained values and the real outputs, a loss function, e.g. hinge, euclidean, etc. measures the closeness of them.
				The goal of DNN is providing a small loss value.
				To adapt DNN for the newsvendor problem, we propose two loss functions, considering the impact of the shortage and holding costs. 
				These loss functions <i>allow DNN to obtain the minimizer of the newsvendor cost function directly, rather than first estimating the demand distribution and then choosing an order quantity.</i>
				Thus, feeding the historical data into the corresponding DNN and running it gives the order quantities directly.
				Two proposed loss functions are based on the newsvendor cost function and we call them DNN-$\ell_1$ and DNN-$\ell_2$, according to their structures. </p>



				<p> <em> <b> Conclusion </b> </em> <p>
					These results are really incredible!!!. We can learn to play close to optimal solution, with just---and only just---some historical data. Without any knowledge how other agents play, what is their ordering policy, etc. 
					Nowadays that any company has huge datasets, we can easily use those data and optimize their supply chain network. This approach can be easily used in different supply chain with much more complex networks, and more agents. 
					I will post more results latter. BTW, you also can read the corresponding paper <a href="https://arxiv.org/abs/1708.05924">here </a>.!


					Porteus, Evan L. "The newsvendor problem." Building Intuition. Springer, Boston, MA, 2008. 115-134.
					Snyder, Lawrence V., and Zuo-Jun Max Shen. Fundamentals of supply chain theory. John Wiley \& Sons, 2011.

				<!-- <iframe width="420" height="315" src="https://www.youtube.com/embed/XGSy3_Czz8k"> </iframe> -->				
    		</div><!-- /.blurb -->
		</div><!-- /.container -->
		<footer>
    		<ul>
        		<li><a href="mailto:oroojlooy@gmail.com">email</a></li>
        		<!-- <li><a href="https://github.com/oroojlooy">github.com/oroojlooy</a></li> -->
        		<li><a href="https://scholar.google.com/citations?user=7nEdMAMAAAAJ&hl=en">Google Scholar</a></li>
				<li><a href="https://www.linkedin.com/in/afshin-oroojlooy-81663b38/">LinkedIn</a></li>
			</ul>
		</footer>
	</body>
</html>
